<div class="container">
  <p-panel header="Logs de Compatibilidade">
    <p-table
      [value]="logs"
      [loading]="loading"
      [paginator]="true"
      [rows]="rows"
      [totalRecords]="totalRecords"
      [lazy]="true"
      (onLazyLoad)="loadLogs($event)"
      [first]="first"
      styleClass="p-datatable-sm"
    >
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 60px">ID</th>
          <th>Nome Completo</th>
          <th style="width: 100px">Chegada</th>
          <th style="width: 100px">Partida</th>
          <th style="width: 120px">Tipo</th>
          <th>Mensagem</th>
          <th style="width: 160px">Data/Hora</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-log>
        <tr>
          <td>{{ log.id }}</td>
          <td>{{ log.nome_completo }}</td>
          <td>{{ log.data_chegada || '-' }}</td>
          <td>{{ log.data_partida || '-' }}</td>
          <td>
            <p-tag
              [value]="getTipoAcaoLabel(log.tipo_acao)"
              [severity]="getTipoAcaoSeverity(log.tipo_acao)"
            ></p-tag>
          </td>
          <td>{{ log.mensagem }}</td>
          <td>{{ formatDateTime(log.created_at) }}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="7" style="text-align: center">Nenhum log encontrado</td>
        </tr>
      </ng-template>
    </p-table>
  </p-panel>
</div>
